{"remainingRequest":"D:\\my-project\\digit\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\my-project\\digit\\src\\views\\rooms\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\my-project\\digit\\src\\views\\rooms\\index.vue","mtime":1682245211045},{"path":"D:\\my-project\\digit\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\my-project\\digit\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\my-project\\digit\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\my-project\\digit\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgKiBhcyBUaHJlZSBmcm9tICd0aHJlZScNCmltcG9ydCBUV0VFTiBmcm9tICdAdHdlZW5qcy90d2Vlbi5qcycNCmltcG9ydCB7IE9yYml0Q29udHJvbHMgfSBmcm9tICJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9scyI7DQovLyBpbXBvcnQgeyBWUkJ1dHRvbiB9IGZyb20gJ3RocmVlL2FkZG9ucy93ZWJ4ci9WUkJ1dHRvbi5qcyc7DQovLyBpbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlci5qcyc7DQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpew0KICAgICAgICByZXR1cm57DQogICAgICAgICAgICByZW5kZXJlcjogJycsIC8v5riy5p+T5ZmoDQogICAgICAgICAgICBzY2VuZTogJycsIC8v5Zy65pmvDQogICAgICAgICAgICBsaWdodDogJycsIC8v5YWJ5rqQDQogICAgICAgICAgICBjYW1lcmE6ICcnLCAvL+ebuOacug0KICAgICAgICAgICAgY29udHJvbHM6ICcnLCAvL+aOp+WItuWZqA0KICAgICAgICAgICAgbWVzaDpudWxsLA0KICAgICAgICAgICAgY3VycmVudFJvb206ICdsaXZpbmctcm9vbScsDQogICAgICAgICAgICByb29tczpbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBuYW1lOiAn5a6i5Y6FJywNCiAgICAgICAgICAgICAgICAgICAga2V5OiAnbGl2aW5nLXJvb20nLA0KICAgICAgICAgICAgICAgICAgICBtYXA6IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pbWFnZXMvbWFwL21hcF9saXZpbmdfcm9vbS5qcGcnKSwNCiAgICAgICAgICAgICAgICAgICAgc2hvd1N3aXRjaDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBUaHJlZS5WZWN0b3IzKDAsIDAsIDApLA0KICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVBvaW50czogWw0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3R2JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ+eUteinhuacuicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICfmmbrog73nlLXop4YnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyOiByZXF1aXJlKCcuLi8uLi9hc3NldHMvaW1hZ2VzL2hvbWUvY292ZXJfbGl2aW5nX3Jvb21fdHYucG5nJyksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY292ZXI6IG5ldyBVUkwoJ0AvYXNzZXRzL2ltYWdlcy9ob21lL2NvdmVyX2xpdmluZ19yb29tX3R2LnBuZycsIGltcG9ydC5tZXRhLnVybCkuaHJlZiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFRocmVlLlZlY3RvcjMoLTYsIDIsIC04KSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZnJpZGdlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ+WGsOeusScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICfosarljY7lhrDnrrEnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyOiByZXF1aXJlKCcuLi8uLi9hc3NldHMvaW1hZ2VzL2hvbWUvY292ZXJfbGl2aW5nX3Jvb21fZnJpZGdlLnBuZycpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvdmVyOiBuZXcgVVJMKCdAL2Fzc2V0cy9pbWFnZXMvaG9tZS9jb3Zlcl9saXZpbmdfcm9vbV9mcmlkZ2UucG5nJywgaW1wb3J0Lm1ldGEudXJsKS5ocmVmLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVGhyZWUuVmVjdG9yMygtMTIsIDQsIDkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdzb2ZhJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ+aymeWPkScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICfoiJLpgILmspnlj5EnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyOiByZXF1aXJlKCcuLi8uLi9hc3NldHMvaW1hZ2VzL2hvbWUvY292ZXJfbGl2aW5nX3Jvb21fc29mYS5wbmcnKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb3ZlcjogbmV3IFVSTCgnQC9hc3NldHMvaW1hZ2VzL2hvbWUvY292ZXJfbGl2aW5nX3Jvb21fc29mYS5wbmcnLCBpbXBvcnQubWV0YS51cmwpLmhyZWYsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBUaHJlZS5WZWN0b3IzKDYsIDAsIC04KSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfljaflrqQnLA0KICAgICAgICAgICAgICAgICAgICBrZXk6ICdiZWQtcm9vbScsDQogICAgICAgICAgICAgICAgICAgIG1hcDogcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ltYWdlcy9tYXAvbWFwX2JlZF9yb29tLmpwZycpLA0KICAgICAgICAgICAgICAgICAgICBzaG93U3dpdGNoOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFRocmVlLlZlY3RvcjMoLTMyLCAwLCAwKSwNCiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVQb2ludHM6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdiZWQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAn5bqKJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ+a4qeaalueahOW6iicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY292ZXI6IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pbWFnZXMvaG9tZS9jb3Zlcl9iZWRfcm9vbV9iZWQucG5nJyksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY292ZXI6IG5ldyBVUkwoJ0AvYXNzZXRzL2ltYWdlcy9ob21lL2NvdmVyX2JlZF9yb29tX2JlZC5wbmcnLCBpbXBvcnQubWV0YS51cmwpLmhyZWYsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBUaHJlZS5WZWN0b3IzKC0zOCwgMiwgLTE0KSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfkuabmiL8nLA0KICAgICAgICAgICAgICAgICAgICBrZXk6ICdzdHVkeS1yb29tJywNCiAgICAgICAgICAgICAgICAgICAgbWFwOiByZXF1aXJlKCcuLi8uLi9hc3NldHMvaW1hZ2VzL21hcC9tYXBfc3R1ZHlfcm9vbS5qcGcnKSwNCiAgICAgICAgICAgICAgICAgICAgc2hvd1N3aXRjaDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBUaHJlZS5WZWN0b3IzKDMyLCAwLCAwKSwNCiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVQb2ludHM6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdhcnQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAn6Im65pyv5ZOBJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ+e7neeJiOS9nOWTgScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY292ZXI6IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pbWFnZXMvaG9tZS9jb3Zlcl9zdHVkeV9yb29tX2FydC5wbmcnKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb3ZlcjogbmV3IFVSTCgnQC9hc3NldHMvaW1hZ2VzL2hvbWUvY292ZXJfc3R1ZHlfcm9vbV9hcnQucG5nJywgaW1wb3J0Lm1ldGEudXJsKS5ocmVmLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVGhyZWUuVmVjdG9yMyg0MiwgNiwgLTgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICBdDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZWQoKXsNCiAgICAgICAgDQogICAgfSwNCiAgICBtb3VudGVkKCl7DQogICAgICAgIHRoaXMuaW5pdCgpDQogICAgICAgIHRoaXMuYW5pbWF0ZSgpDQogICAgICAgIHRoaXMuaW5pdFBvaW50KCkNCiAgICAgICAgICAvLyDpobXpnaLph43nu5jml7bosIPnlKjoh6rouqsNCiAgICAgICAgLy8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmluaXRQb2ludCk7DQogICAgfSwNCiAgICBjb21wdXRlZDp7DQogICAgICAgIGludGVyYWN0aXZlUG9pbnRzKCl7DQogICAgICAgICAgICBjb25zdCByZXMgPSBbXTsNCiAgICAgICAgICAgIHRoaXMucm9vbXMuZm9yRWFjaCgocm9vbSkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChyb29tLmludGVyYWN0aXZlUG9pbnRzICYmIHJvb20uaW50ZXJhY3RpdmVQb2ludHMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICByb29tLmludGVyYWN0aXZlUG9pbnRzLmZvckVhY2goKHBvaW50KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBwb2ludCA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb29tOiByb29tLmtleSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wb2ludCwNCiAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgICAgICByZXMucHVzaChwb2ludCk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHJldHVybiByZXM7DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgICBhbmltYXRlKHRpbWUpew0KICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZSkNCiAgICAgICAgICAgIFRXRUVOLnVwZGF0ZSh0aW1lKQ0KICAgICAgICAgICAgLy8gdGhpcy5pbml0UG9pbnQoKQ0KICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpOyAvL+aJp+ihjOa4suafk+aTjeS9nA0KICAgICAgICB9LA0KDQogICAgICAgIGluaXRQb2ludCgpew0KICAgICAgICAgICAgY29uc3QgdGljayA9ICgpPT57DQogICAgICAgICAgICAgICAgICAgIC8vIOa3u+WKoOS6pOS6kueCuQ0KICAgICAgICAgICAgICAgIGNvbnN0IHJheWNhc3RlciA9IG5ldyBUaHJlZS5SYXljYXN0ZXIoKTsNCiAgICAgICAgICAgICAgICAvLyDlrqTlhoXmgqzmta7moIforrDniakNCiAgICAgICAgICAgICAgICBjb25zdCBfcG9pbnRzID0gdGhpcy5pbnRlcmFjdGl2ZVBvaW50cy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoew0KICAgICAgICAgICAgICAgICAgICAuLi5pdGVtLA0KICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucG9pbnQtJHtpbmRleH1gKSwNCiAgICAgICAgICAgICAgICB9KSkNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnX3BvaW50cycsX3BvaW50cyk7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIpIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwb2ludCBvZiBfcG9pbnRzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzY3JlZW5Qb3NpdGlvbiA9IHBvaW50LnBvc2l0aW9uLmNsb25lKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3MgPSBzY3JlZW5Qb3NpdGlvbi5wcm9qZWN0KHRoaXMuY2FtZXJhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKHNjcmVlblBvc2l0aW9uLCB0aGlzLmNhbWVyYSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlcnNlY3RzID0gcmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHModGhpcy5zY2VuZS5jaGlsZHJlbiwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaW50ZXJzZWN0cycsaW50ZXJzZWN0cyk7DQogICAgICAgICAgICAgICAgICAgICAgICBwb2ludC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3RzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOacquaJvuWIsOebuOS6pOeCue+8jOaYvuekug0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDojrflj5bnm7jkuqTngrnnmoTot53nprvlkozngrnnmoTot53nprsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb25EaXN0YW5jZSA9IGludGVyc2VjdHNbMF0uZGlzdGFuY2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnREaXN0YW5jZSA9IHBvaW50LnBvc2l0aW9uLmRpc3RhbmNlVG8odGhpcy5jYW1lcmEucG9zaXRpb24pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOebuOS6pOeCuei3neemu+avlOeCuei3neemu+i/ke+8jOmakOiXj++8m+ebuOS6pOeCuei3neemu+avlOeCuei3neemu+i/nO+8jOaYvuekug0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbkRpc3RhbmNlIDwgcG9pbnREaXN0YW5jZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBvaW50LmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgidmlzaWJsZSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcG9pbnQuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCJ2aXNpYmxlIik7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDniankvZPovazliqjliLDog4zpnaLml7bpmpDol4/vvIzlkKbliJnmmL7npLoNCiAgICAgICAgICAgICAgICAgICAgICAgIHBvcy56ID4gMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcG9pbnQuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCJ2aXNpYmxlIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHBvaW50LmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgidmlzaWJsZSIpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2xhdGVYID0gc2NyZWVuUG9zaXRpb24ueCAqIHdpbmRvdy5pbm5lcldpZHRoICogMC41Ow0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNsYXRlWSA9IC1zY3JlZW5Qb3NpdGlvbi55ICogd2luZG93LmlubmVySGVpZ2h0ICogMC41Ow0KICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3RyYW5zbGF0ZVh9cHgpIHRyYW5zbGF0ZVkoJHt0cmFuc2xhdGVZfXB4KWA7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9scyAmJiB0aGlzLmNvbnRyb2xzLnVwZGF0ZSgpDQogICAgICAgICAgICAgICAgICAgIFRXRUVOICYmIFRXRUVOLnVwZGF0ZSgpDQogICAgICAgICAgICAgICAgICAgIC8vIOabtOaWsOa4suafk+WZqA0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aWNrKCkNCiAgICAgICAgICAgIC8vIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7DQogICAgICAgIH0sDQoNCiAgICAgICAgaGFuZGxlUG9pbnQoa2V5KXsNCiAgICAgICAgICAgIGxldCBzdGFydCA9IHsNCiAgICAgICAgICAgICAgICB4MToga2V5LnBvc2l0aW9uLngsIC8vIOebuOacungNCiAgICAgICAgICAgICAgICB5MToga2V5LnBvc2l0aW9uLnksIC8vIOebuOacunkNCiAgICAgICAgICAgICAgICB6MToga2V5LnBvc2l0aW9uLnosIC8vIOebuOacunoNCiAgICAgICAgICAgICAgICB4MjogdGhpcy5jb250cm9scy50YXJnZXQueCwgLy8g5o6n5Yi254K555qE5Lit5b+D54K5eA0KICAgICAgICAgICAgICAgIHkyOiB0aGlzLmNvbnRyb2xzLnRhcmdldC55LCAvLyDmjqfliLbngrnnmoTkuK3lv4Pngrl5DQogICAgICAgICAgICAgICAgejI6IHRoaXMuY29udHJvbHMudGFyZ2V0LnosIC8vIOaOp+WItueCueeahOS4reW/g+eCuXoNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxldCBlbmQgPXsNCiAgICAgICAgICAgICAgICB4MTogMCwNCiAgICAgICAgICAgICAgICB5MTogMCwNCiAgICAgICAgICAgICAgICB6MTogMCwNCiAgICAgICAgICAgICAgICB4MjogMCwNCiAgICAgICAgICAgICAgICB5MjogMCwNCiAgICAgICAgICAgICAgICB6MjogMiwNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxldCB0d2VlbiA9IG5ldyBUV0VFTi5Ud2VlbihzdGFydCkudG8oZW5kLDIwMDApLmVhc2luZyhUV0VFTi5FYXNpbmcuUXVhZHJhdGljLk91dCkNCiAgICAgICAgICAgIHR3ZWVuLm9uVXBkYXRlKCh0aGF0KT0+ew0KICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCh0aGF0LngxLHRoYXQueTEsdGhhdC56MSkNCiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzLnRhcmdldC5zZXQodGhhdC54Mix0aGF0LnkyLHRoYXQuejIpDQogICAgICAgICAgICAgICAgdGhpcy5jb250cm9scy51cGRhdGUoKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB0d2Vlbi5zdGFydCgpDQogICAgICAgICAgICB0aGlzLmFuaW1hdGUoKQ0KICAgICAgICB9LA0KDQogICAgICAgIGhhbmRsZVN3aXRjaChrZXkpew0KICAgICAgICAgICAgdGhpcy5zY2VuZS5jaGlsZHJlbiA9IFtdDQogICAgICAgICAgICBjb25zdCByb29tID0gdGhpcy5yb29tcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ua2V5ID09PSBrZXkpWzBdDQogICAgICAgICAgICB0aGlzLmNyZWF0ZVJvb20ocm9vbS5rZXksIHJvb20ucG9zaXRpb24sIHJvb20ubWFwKTsNCiAgICAgICAgICAgIHRoaXMuY3VycmVudFJvb20gPSByb29tLmtleTsNCiAgICAgICAgICAgIGNvbnN0IHggPSByb29tLnBvc2l0aW9uLng7DQogICAgICAgICAgICBjb25zdCB5ID0gcm9vbS5wb3NpdGlvbi55Ow0KICAgICAgICAgICAgLy8gY29uc3QgeiA9IHJvb20ucG9zaXRpb24uejsNCiAgICAgICAgICAgIGxldCBzdGFydCA9IHsNCiAgICAgICAgICAgICAgICB4MTogdGhpcy5jYW1lcmEucG9zaXRpb24ueCwgLy8g55u45py6eA0KICAgICAgICAgICAgICAgIHkxOiB0aGlzLmNhbWVyYS5wb3NpdGlvbi55LCAvLyDnm7jmnLp5DQogICAgICAgICAgICAgICAgejE6IHRoaXMuY2FtZXJhLnBvc2l0aW9uLnosIC8vIOebuOacunoNCiAgICAgICAgICAgICAgICB4MjogdGhpcy5jb250cm9scy50YXJnZXQueCwgLy8g5o6n5Yi254K555qE5Lit5b+D54K5eA0KICAgICAgICAgICAgICAgIHkyOiB0aGlzLmNvbnRyb2xzLnRhcmdldC55LCAvLyDmjqfliLbngrnnmoTkuK3lv4Pngrl5DQogICAgICAgICAgICAgICAgejI6IHRoaXMuY29udHJvbHMudGFyZ2V0LnosIC8vIOaOp+WItueCueeahOS4reW/g+eCuXoNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxldCBlbmQgPXsNCiAgICAgICAgICAgICAgICB4MTogeCwNCiAgICAgICAgICAgICAgICB5MTogeSwNCiAgICAgICAgICAgICAgICB6MTogMCwNCiAgICAgICAgICAgICAgICB4MjogeCwNCiAgICAgICAgICAgICAgICB5MjogeSwNCiAgICAgICAgICAgICAgICB6MjogMiwNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxldCB0d2VlbiA9IG5ldyBUV0VFTi5Ud2VlbihzdGFydCkudG8oZW5kLDIwMDApLmVhc2luZyhUV0VFTi5FYXNpbmcuUXVhZHJhdGljLk91dCkNCiAgICAgICAgICAgIHR3ZWVuLm9uVXBkYXRlKCh0aGF0KT0+ew0KICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCh0aGF0LngxLHRoYXQueTEsdGhhdC56MSkNCiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzLnRhcmdldC5zZXQodGhhdC54Mix0aGF0LnkyLHRoYXQuejIpDQogICAgICAgICAgICAgICAgdGhpcy5jb250cm9scy51cGRhdGUoKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB0d2Vlbi5zdGFydCgpDQogICAgICAgICAgICB0aGlzLmFuaW1hdGUoKQ0KICAgICAgICAgICAgdGhpcy5pbml0UG9pbnQoKQ0KICAgICAgICB9LA0KDQoNCiAgICAgICAgLy8g55CD5b2i6LS05Zu+DQogICAgICAgIGluaXQoKXsNCiAgICAgICAgICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJyk7DQogICAgICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBUaHJlZS5QZXJzcGVjdGl2ZUNhbWVyYSg2NSwgY29udGFpbmVyLmNsaWVudFdpZHRoIC8gY29udGFpbmVyLmNsaWVudEhlaWdodCwgMC4xLCAxMDAwKTsNCiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCgwLDAsMikNCiAgICAgICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVGhyZWUuU2NlbmUoKTsNCiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVGhyZWUuV2ViR0xSZW5kZXJlcih7DQogICAgICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIC8v5oyH5a6a5riy5p+T5Zmo55qE6auY5a69KOWSjOeUu+W4g+ahhueahOWkp+Wwj+S4gOiHtCkNCiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7DQogICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUoY29udGFpbmVyLmNsaWVudFdpZHRoLCBjb250YWluZXIuY2xpZW50SGVpZ2h0KTsNCg0KICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7DQogICAgICAgICAgICB0aGlzLmNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHModGhpcy5jYW1lcmEsIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7IC8vIOWIneWni+WMluaOp+WItuWZqA0KICAgICAgICAgICAgdGhpcy5jb250cm9scy50YXJnZXQuc2V0KDAsIDAsIDgpOw0KICAgICAgICAgICAgdGhpcy5jb250cm9scy5lbmFibGVEYW1waW5nID0gdHJ1ZTsNCiAgICAgICAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUGFuID0gZmFsc2U7DQogICAgICAgICAgICAvLyDnvKnmlL7pmZDliLYNCiAgICAgICAgICAgIHRoaXMuY29udHJvbHMubWluRGlzdGFuY2UgPSAxMjsNCiAgICAgICAgICAgIHRoaXMuY29udHJvbHMubWF4RGlzdGFuY2UgPSAyMDsNCiAgICAgICAgICAgIC8vIHRoaXMucm9vbXMubWFwKGl0ZW09PnsNCiAgICAgICAgICAgIC8vICAgICBjb25zdCByb29tID0gdGhpcy5jcmVhdGVSb29tKGl0ZW0ua2V5LCBpdGVtLnBvc2l0aW9uLCBpdGVtLm1hcCk7DQogICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2cocm9vbSk7DQogICAgICAgICAgICAvLyAgICAgcmV0dXJuIHJvb207DQogICAgICAgICAgICAvLyB9KQ0KICAgICAgICAgICAgdGhpcy5oYW5kbGVTd2l0Y2godGhpcy5jdXJyZW50Um9vbSkNCiAgICAgICAgfSwNCiAgICAgICAgY3JlYXRlUm9vbShuYW1lLHBvc2l0aW9uLG1hcCl7DQogICAgICAgICAgICBsZXQgc3BoZXJlR2VvbWV0cnkgPSBuZXcgVGhyZWUuU3BoZXJlR2VvbWV0cnkoMjAwLCA2MCwgNjApOw0KICAgICAgICAgICAgc3BoZXJlR2VvbWV0cnkuc2NhbGUoLTEsIDEsIDEpOw0KICAgICAgICAgICAgdmFyIHRleHR1cmVMb2FkZXIgPSBuZXcgVGhyZWUuVGV4dHVyZUxvYWRlcigpOw0KICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRleHR1cmVMb2FkZXIubG9hZChtYXApOw0KICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVGhyZWUuTWVzaEJhc2ljTWF0ZXJpYWwoDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBtYXA6IHRleHR1cmUsDQogICAgICAgICAgICAgICAgICAgIHNpZGU6IFRocmVlLkRvdWJsZVNpZGUNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgY29uc3Qgcm9vbSA9IG5ldyBUaHJlZS5NZXNoKHNwaGVyZUdlb21ldHJ5LCBtYXRlcmlhbCk7DQogICAgICAgICAgICByb29tLm5hbWUgPSBuYW1lOw0KICAgICAgICAgICAgcm9vbS5wb3NpdGlvbi5zZXQocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgcG9zaXRpb24ueik7DQogICAgICAgICAgICByb29tLnJvdGF0aW9uLnkgPSBNYXRoLlBJIC8gMjsNCiAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKHJvb20pOw0KICAgICAgICAgICAgcmV0dXJuIHJvb207DQogICAgICAgIH0sDQogICAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/rooms","sourcesContent":["<template>\r\n    <div class=\"webGl-page\">\r\n        <div id=\"container\"></div>\r\n         <!-- 场景切换点 -->\r\n        <div class=\"switch\">\r\n            <span class=\"button\" v-for=\"(room, index) in rooms\" :key=\"index\" @click=\"handleSwitch(room.key)\" v-show=\"room.key !== currentRoom\">\r\n                <b class=\"text\">{{ room.name }}</b>\r\n                <i class=\"icon\"></i>\r\n            </span>\r\n        </div>\r\n\r\n        <!-- 交互点 -->\r\n        <div  class=\"point\"  v-for=\"(point, index) in interactivePoints\" :key=\"index\" \r\n            :class=\"[`point-${index}`, `point-${point.key}`]\"\r\n            @click=\"handlePoint(point)\"\r\n           >\r\n            <div class=\"label\" :class=\"[`label-${index}`, `label-${point.key}`]\">\r\n                <div class=\"label-tips\">\r\n                    <div class=\"cover\">\r\n                        <i  class=\"icon\" :style=\"{ 'background': `url(${point.cover}) no-repeat center`, 'background-size': 'contain'}\"></i>\r\n                    </div>\r\n                    <div class=\"info\">\r\n                        <p class=\"p1\">{{ point.value }}</p>\r\n                        <p class=\"p2\">{{ point.description }}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as Three from 'three'\r\nimport TWEEN from '@tweenjs/tween.js'\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\n// import { VRButton } from 'three/addons/webxr/VRButton.js';\r\n// import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nexport default {\r\n    data(){\r\n        return{\r\n            renderer: '', //渲染器\r\n            scene: '', //场景\r\n            light: '', //光源\r\n            camera: '', //相机\r\n            controls: '', //控制器\r\n            mesh:null,\r\n            currentRoom: 'living-room',\r\n            rooms:[\r\n                {\r\n                    name: '客厅',\r\n                    key: 'living-room',\r\n                    map: require('../../assets/images/map/map_living_room.jpg'),\r\n                    showSwitch: true,\r\n                    position: new Three.Vector3(0, 0, 0),\r\n                    interactivePoints: [\r\n                        {\r\n                            key: 'tv',\r\n                            value: '电视机',\r\n                            description: '智能电视',\r\n                            cover: require('../../assets/images/home/cover_living_room_tv.png'),\r\n                            // cover: new URL('@/assets/images/home/cover_living_room_tv.png', import.meta.url).href,\r\n                            position: new Three.Vector3(-6, 2, -8),\r\n                        },\r\n                        {\r\n                            key: 'fridge',\r\n                            value: '冰箱',\r\n                            description: '豪华冰箱',\r\n                            cover: require('../../assets/images/home/cover_living_room_fridge.png'),\r\n                            // cover: new URL('@/assets/images/home/cover_living_room_fridge.png', import.meta.url).href,\r\n                            position: new Three.Vector3(-12, 4, 9),\r\n                        },\r\n                        {\r\n                            key: 'sofa',\r\n                            value: '沙发',\r\n                            description: '舒适沙发',\r\n                            cover: require('../../assets/images/home/cover_living_room_sofa.png'),\r\n                            // cover: new URL('@/assets/images/home/cover_living_room_sofa.png', import.meta.url).href,\r\n                            position: new Three.Vector3(6, 0, -8),\r\n                        },\r\n                    ],\r\n                },\r\n                {\r\n                    name: '卧室',\r\n                    key: 'bed-room',\r\n                    map: require('../../assets/images/map/map_bed_room.jpg'),\r\n                    showSwitch: true,\r\n                    position: new Three.Vector3(-32, 0, 0),\r\n                    interactivePoints: [\r\n                        {\r\n                            key: 'bed',\r\n                            value: '床',\r\n                            description: '温暖的床',\r\n                            cover: require('../../assets/images/home/cover_bed_room_bed.png'),\r\n                            // cover: new URL('@/assets/images/home/cover_bed_room_bed.png', import.meta.url).href,\r\n                            position: new Three.Vector3(-38, 2, -14),\r\n                        },\r\n                    ],\r\n                },\r\n                {\r\n                    name: '书房',\r\n                    key: 'study-room',\r\n                    map: require('../../assets/images/map/map_study_room.jpg'),\r\n                    showSwitch: true,\r\n                    position: new Three.Vector3(32, 0, 0),\r\n                    interactivePoints: [\r\n                        {\r\n                            key: 'art',\r\n                            value: '艺术品',\r\n                            description: '绝版作品',\r\n                            cover: require('../../assets/images/home/cover_study_room_art.png'),\r\n                            // cover: new URL('@/assets/images/home/cover_study_room_art.png', import.meta.url).href,\r\n                            position: new Three.Vector3(42, 6, -8),\r\n                        },\r\n                    ]\r\n                },\r\n            ]\r\n        }\r\n    },\r\n    created(){\r\n        \r\n    },\r\n    mounted(){\r\n        this.init()\r\n        this.animate()\r\n        this.initPoint()\r\n          // 页面重绘时调用自身\r\n        // window.requestAnimationFrame(this.initPoint);\r\n    },\r\n    computed:{\r\n        interactivePoints(){\r\n            const res = [];\r\n            this.rooms.forEach((room) => {\r\n                if (room.interactivePoints && room.interactivePoints.length > 0) {\r\n                    room.interactivePoints.forEach((point) => {\r\n                        point = {\r\n                            room: room.key,\r\n                            ...point,\r\n                        };\r\n                        res.push(point);\r\n                    })\r\n                }\r\n            })\r\n            return res;\r\n        }\r\n    },\r\n    methods:{\r\n        animate(time){\r\n            requestAnimationFrame(this.animate)\r\n            TWEEN.update(time)\r\n            // this.initPoint()\r\n            this.renderer.render(this.scene, this.camera); //执行渲染操作\r\n        },\r\n\r\n        initPoint(){\r\n            const tick = ()=>{\r\n                    // 添加交互点\r\n                const raycaster = new Three.Raycaster();\r\n                // 室内悬浮标记物\r\n                const _points = this.interactivePoints.map((item, index) => ({\r\n                    ...item,\r\n                    element: document.querySelector(`.point-${index}`),\r\n                }))\r\n                console.log('_points',_points);\r\n                if (this.renderer) {\r\n                    for (const point of _points) {\r\n                        const screenPosition = point.position.clone();\r\n                        const pos = screenPosition.project(this.camera);\r\n                        raycaster.setFromCamera(screenPosition, this.camera);\r\n                        const intersects = raycaster.intersectObjects(this.scene.children, true);\r\n                        console.log('intersects',intersects);\r\n                        point.element.classList.add('visible');\r\n                        if (intersects.length === 0) {\r\n                            // 未找到相交点，显示\r\n                            point.element.classList.add('visible');\r\n                        } else {\r\n                            // 获取相交点的距离和点的距离\r\n                            const intersectionDistance = intersects[0].distance;\r\n                            const pointDistance = point.position.distanceTo(this.camera.position);\r\n                            // 相交点距离比点距离近，隐藏；相交点距离比点距离远，显示\r\n                            intersectionDistance < pointDistance\r\n                                ? point.element.classList.remove(\"visible\")\r\n                                : point.element.classList.add(\"visible\");\r\n                        }\r\n                        // 物体转动到背面时隐藏，否则显示\r\n                        pos.z > 1\r\n                            ? point.element.classList.remove(\"visible\")\r\n                            : point.element.classList.add(\"visible\");\r\n\r\n                        const translateX = screenPosition.x * window.innerWidth * 0.5;\r\n                        const translateY = -screenPosition.y * window.innerHeight * 0.5;\r\n                        point.element.style.transform = `translateX(${translateX}px) translateY(${translateY}px)`;\r\n                    }\r\n                    this.controls && this.controls.update()\r\n                    TWEEN && TWEEN.update()\r\n                    // 更新渲染器\r\n                    this.renderer.render(this.scene, this.camera)\r\n                }\r\n            }\r\n            tick()\r\n            // window.requestAnimationFrame(tick);\r\n        },\r\n\r\n        handlePoint(key){\r\n            let start = {\r\n                x1: key.position.x, // 相机x\r\n                y1: key.position.y, // 相机y\r\n                z1: key.position.z, // 相机z\r\n                x2: this.controls.target.x, // 控制点的中心点x\r\n                y2: this.controls.target.y, // 控制点的中心点y\r\n                z2: this.controls.target.z, // 控制点的中心点z\r\n            }\r\n            let end ={\r\n                x1: 0,\r\n                y1: 0,\r\n                z1: 0,\r\n                x2: 0,\r\n                y2: 0,\r\n                z2: 2,\r\n            }\r\n            let tween = new TWEEN.Tween(start).to(end,2000).easing(TWEEN.Easing.Quadratic.Out)\r\n            tween.onUpdate((that)=>{\r\n                this.camera.position.set(that.x1,that.y1,that.z1)\r\n                this.controls.target.set(that.x2,that.y2,that.z2)\r\n                this.controls.update();\r\n            })\r\n            tween.start()\r\n            this.animate()\r\n        },\r\n\r\n        handleSwitch(key){\r\n            this.scene.children = []\r\n            const room = this.rooms.filter((item) => item.key === key)[0]\r\n            this.createRoom(room.key, room.position, room.map);\r\n            this.currentRoom = room.key;\r\n            const x = room.position.x;\r\n            const y = room.position.y;\r\n            // const z = room.position.z;\r\n            let start = {\r\n                x1: this.camera.position.x, // 相机x\r\n                y1: this.camera.position.y, // 相机y\r\n                z1: this.camera.position.z, // 相机z\r\n                x2: this.controls.target.x, // 控制点的中心点x\r\n                y2: this.controls.target.y, // 控制点的中心点y\r\n                z2: this.controls.target.z, // 控制点的中心点z\r\n            }\r\n            let end ={\r\n                x1: x,\r\n                y1: y,\r\n                z1: 0,\r\n                x2: x,\r\n                y2: y,\r\n                z2: 2,\r\n            }\r\n            let tween = new TWEEN.Tween(start).to(end,2000).easing(TWEEN.Easing.Quadratic.Out)\r\n            tween.onUpdate((that)=>{\r\n                this.camera.position.set(that.x1,that.y1,that.z1)\r\n                this.controls.target.set(that.x2,that.y2,that.z2)\r\n                this.controls.update();\r\n            })\r\n            tween.start()\r\n            this.animate()\r\n            this.initPoint()\r\n        },\r\n\r\n\r\n        // 球形贴图\r\n        init(){\r\n            let container = document.getElementById('container');\r\n            this.camera = new Three.PerspectiveCamera(65, container.clientWidth / container.clientHeight, 0.1, 1000);\r\n            this.camera.position.set(0,0,2)\r\n            this.scene = new Three.Scene();\r\n            this.renderer = new Three.WebGLRenderer({\r\n                antialias: true\r\n            });\r\n            //指定渲染器的高宽(和画布框的大小一致)\r\n            this.renderer.setPixelRatio(window.devicePixelRatio);\r\n            this.renderer.setSize(container.clientWidth, container.clientHeight);\r\n\r\n            container.appendChild(this.renderer.domElement);\r\n            this.controls = new OrbitControls(this.camera, this.renderer.domElement); // 初始化控制器\r\n            this.controls.target.set(0, 0, 8);\r\n            this.controls.enableDamping = true;\r\n            this.controls.enablePan = false;\r\n            // 缩放限制\r\n            this.controls.minDistance = 12;\r\n            this.controls.maxDistance = 20;\r\n            // this.rooms.map(item=>{\r\n            //     const room = this.createRoom(item.key, item.position, item.map);\r\n            //     console.log(room);\r\n            //     return room;\r\n            // })\r\n            this.handleSwitch(this.currentRoom)\r\n        },\r\n        createRoom(name,position,map){\r\n            let sphereGeometry = new Three.SphereGeometry(200, 60, 60);\r\n            sphereGeometry.scale(-1, 1, 1);\r\n            var textureLoader = new Three.TextureLoader();\r\n            const texture = textureLoader.load(map);\r\n            const material = new Three.MeshBasicMaterial(\r\n                {\r\n                    map: texture,\r\n                    side: Three.DoubleSide\r\n                })\r\n            const room = new Three.Mesh(sphereGeometry, material);\r\n            room.name = name;\r\n            room.position.set(position.x, position.y, position.z);\r\n            room.rotation.y = Math.PI / 2;\r\n            this.scene.add(room);\r\n            return room;\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n    #container {\r\n\t\twidth: 100%;\r\n        height: 1080px;\r\n\t}\r\n    .switch{\r\n        position: fixed;\r\n        right: 24px;\r\n        top: 40%;\r\n        z-index: 100;\r\n        .button{\r\n            width: 80px;\r\n            color: #fff;\r\n            display: block;\r\n            background-color: rgba(27, 25, 24, .3);\r\n            border-radius: 6px;\r\n            margin-bottom: 10px;\r\n            display: flex;\r\n            align-items: center;\r\n            text-align: center;\r\n            padding: 12px 8px 12px 24px;\r\n            cursor: pointer;\r\n        }\r\n    }\r\n\r\n    .point{\r\n        // background-color: antiquewhite;\r\n        position: fixed;\r\n        top: 50%;\r\n        left: 50%;\r\n        z-index:10;\r\n    }\r\n \r\n      \r\n    .label-sofa{\r\n        .label-tips\r\n         {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            left: -220px;\r\n            flex-direction: row-reverse;\r\n         }\r\n    }\r\n       \r\n    .label{\r\n        transform: scale(0, 0);\r\n        width: 120px;\r\n        height: 60px;\r\n        background: rgba(255, 255, 255, .6);\r\n        border-radius: 10px;\r\n        padding: 10px;\r\n        text-align: center;\r\n        line-height: 32px;\r\n        font-weight: 100;\r\n        font-size: 14px;\r\n        cursor: help;\r\n        .label-tips{\r\n            display: flex;\r\n            justify-content: space-between;\r\n            .info{\r\n                .p1{\r\n                    font-size: 16px;\r\n                    font-weight: bold;\r\n                }\r\n            }\r\n            .cover{\r\n                width:20%;\r\n                height: 60px;\r\n                .icon{\r\n                    display: block;\r\n                    width: 100%;\r\n                    height: 100%;\r\n                }\r\n            }\r\n            \r\n        }\r\n    }\r\n    .visible .label{\r\n        transform: scale(1, 1);\r\n    }\r\n</style>"]}]}